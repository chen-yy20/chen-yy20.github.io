{% assign image_path = site.image_path | default: "/assets/images" %}
{% if include.path contains "http" %}
  {% assign full_path = include.path %}
{% else %}
  {% assign full_path = image_path | append: "/" | append: include.path %}
{% endif %}

<figure class="image-container{% if include.class %} {{ include.class }}{% endif %}">
  <img 
    src="{{ full_path | relative_url }}" 
    alt="{{ include.alt | default: include.caption }}"
    {% if include.width %}width="{{ include.width }}"{% endif %}
    {% if include.height %}height="{{ include.height }}"{% endif %}
    loading="lazy"
  >
  {% if include.caption %}
    <figcaption>{{ include.caption }}</figcaption>
  {% endif %}
</figure>